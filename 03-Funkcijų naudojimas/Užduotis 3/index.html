<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p id="func3"></p>
    <script>
      function nuolaida_skaičiavimas(pradinė_kaina, nuolaida) {
        return pradinė_kaina * (1 - nuolaida / 100);
      }

      const prekės = [
        {
          Pavadinimas: "iPhone 12 Pro Max",
          Paveiksliukas:
            "https://media.bite.lt/@bite-lt/sites/default/files/products/2021-04/iphone_12_purple-3_1.png",
          Kaina: 979.0,
          Nuolaida: 0,
          Kiekis: 0,
        },
        {
          Pavadinimas: "Samsung Galaxy S20 Ultra",
          Paveiksliukas:
            "https://imageio.forbes.com/specials-images/imageserve/5e6cf1bcaa5428000759db0e/The-Samsung-Galaxy-S20-Ultra-/960x0.jpg?format=jpg&width=960",
          Kaina: 649.0,
          Nuolaida: 15,
          Kiekis: 5,
        },
      ];
      function object_array(prekės) {
     
        let info = "";
        if (prekės[0]["Nuolaida"]) {
          info =
            "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekės[0]["Kaina"]) +
            "<br>" +
            "Kaina su nuolaida: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(
              nuolaida_skaičiavimas(prekės[0]["Kaina"], prekės[0]["Nuolaida"])
            );
        } else {
          info =
          "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekės[0]["Kaina"]);
        }
        let info2 = "";
        if (prekės[1]["Nuolaida"]) {
          info2 =
            "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekės[1]["Kaina"]) +
            "<br>" +
            "Kaina su nuolaida: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(
              nuolaida_skaičiavimas(prekės[1]["Kaina"], prekės[1]["Nuolaida"])
            );
        } else {
          info2 =
          "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekės[1]["Kaina"]);
        }

        let kiekis = "";
        if (!prekės[0]["Kiekis"]) {
           kiekis = "Prekės išparduotos"
        } else {
          kiekis = prekės[0]["Kiekis"]
        }

        let kiekis2 = "";
        if(!prekės[1]["Kiekis"]) {
          kiekis2 = "Prekės išparduotos"
        } else {
          kiekis2 = prekės[1]["Kiekis"]
        }

        return (
          "Pavadinimas: " +
          prekės[0]["Pavadinimas"] +
          "<br>" +
          "Paveiksliukas: " +
          "<br>" +
          "<img src=\"" + prekės[0]["Paveiksliukas"] + "\" width=\"300\" height=\"200\">" +  
          "<br>" +
          info + "<br>" + "Kiekis: " + kiekis + "<br>" +
          "Pavadinimas: " +
          prekės[1]["Pavadinimas"] +
          "<br>" +
          "Paveiksliukas: " +
          "<br>" + "<img src=\"" +
          prekės[1]["Paveiksliukas"] + "\width=\"300\" height=\"200\">" + 
          "<br>" +
          info2 + "<br>" +
          "Kiekis: " + kiekis2
          
        );
      }

      document.getElementById("func3").innerHTML = object_array(prekės);
    </script>
  </body>
</html>
