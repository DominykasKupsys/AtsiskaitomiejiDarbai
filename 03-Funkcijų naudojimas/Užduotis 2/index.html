<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p id="func1"></p>
    <h1>Kita funkcija</h1>
    <p id="func2"></p>
    <script>
      const prekė = {
        pavadinimas: "iPhone 12 Pro Max",
        kaina: 979.0,
        paveiksliukas: "IMG/apple-iphone-12-pro-max-2.jpg",
        kiekis: 0,
        aprašymas: "Išmanusis telefonas",
        nuolaida: 15,
      };

      function prekė1(prekė) {
        let procentai = "";
        if (!prekė.kiekis) {
        prekė.kiekis = "Prekė išparduota";
        }
        if (prekė.nuolaida){
          procentai =  "Nuolaida: " + prekė.nuolaida + "%";
        } else {
          procentai =  "Nuolaida: " + "Nuolaidos nėra";
        }
        return (
          "Pavadinimas: " +
          prekė.pavadinimas +
          " <br> " +
          "Kaina: " +
          new Intl.NumberFormat("lt-LT", {
            style: "currency",
            currency: "EUR",
          }).format(prekė.kaina) +
          "<br> " +
          "Paveiksliukas: " +
          "<br>" +
          '<img src="' +
          prekė.paveiksliukas +
          '" style="max-width: 300px;">' +
          "<br>" +
          "Likutis: " +
          prekė.kiekis +
          "<br>" +
          "Aprašymas: " +
          prekė.aprašymas +
          "<br>" +
          procentai
        );
    }
      document.getElementById("func1").innerHTML = prekė1(prekė);

      function nuolaida_skaičiavimas(pradinė_kaina, nuolaida) {
        return pradinė_kaina * (1 - nuolaida / 100);
      }

      function prekė2(prekė) {
        let info = "";
        if (prekė.nuolaida) {
          info =
            "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekė.kaina) +
            "<br>" +
            "Kaina su nuolaida:  " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(nuolaida_skaičiavimas(prekė.kaina, prekė.nuolaida));
        } else {
          info =
            "Kaina: " +
            new Intl.NumberFormat("lt-LT", {
              style: "currency",
              currency: "EUR",
            }).format(prekė.kaina);
        }

        return (
          "Pavadinimas: " +
          prekė.pavadinimas +
          " <br> " +
          "Paveiksliukas: " +
          "<br>" +
          '<img src="' +
          prekė.paveiksliukas +
          '" style="max-width: 300px;">' +
          "<br>"
          + info
        );
    }

      document.getElementById("func2").innerHTML = prekė2(prekė);
    </script>
  </body>
</html>
